# OpenMETRC

OpenMETRC is two part project. The first is an OpenAPI specification for the METRC api. This spec can be used with any programming language to generate client code to work with the API with all the correct parameters and models. The second is a .NET library that adds a wrapper for the generated client code that enables several features such as:

* Credential Management
* Rate Limiting
* State/Endpoint Validation

The [METRC State &amp; Endpoint Coverage](src\OpenMetrc.Common\Data\MetrcEndpointsSummary.md) report will show the coverage of this application. _Currently, only GET endpoints are tested although POST, PUT, and DELETE are implemented as well._

## OpenAPI/Swagger

This project is based around the idea that every REST API should have good documentation based on the OpenAPI spec. 

## Development

There are several applications in this repo that aid in creating the final project.

### [OpenMETRC: Scraper](src/OpenMetrc.Scraper/readme.md)

Given a list of all possible states that METRC may be deployed do, scrape the documentation sites and compile a list (`state-summaries.json`) of all the states and the endpoints that they expose.

### [OpenMETRC: Builder](src/OpenMetrc.Builder/readme.md)

This project is an OpenAPI spec builder for the METRC platform. This uses several helpers to ensure that all endpoints scraped in [OpenMETRC: Common](src/OpenMetrc.Common/readme.md) are mapped to controllers and endpoints with the appropriate return types and error structures. The final result of this tool is `open-metrc-swagger.yaml`. This file can use used by any platform for code generation. The main NuGet package is a wrapper for this file that adds some extra validation, error handling, and rate limiting features.

### [OpenMETRC](src/OpenMetrc/readme.md)

The core NuGet package and final product.

### [OpenMETRC Tests](tests/OpenMetrc.Tests/readme.md)

Used to test the OpenAPI spec that is generated by the builder app. This allows for a developer to test all endpoint for any and all states and companies they may have access too. This also allows testing against sandbox environments.
